(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{ZvPd:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,r,l,i=t("bx4M"),c=(t("g9YV"),t("wCAj")),d=(t("2qtc"),t("kLXV")),s=(t("14J3"),t("BMrR")),o=(t("+L6B"),t("2/Rp")),u=(t("jCWc"),t("kPKH")),p=(t("5NDa"),t("5rEg")),m=t("2Taf"),g=t.n(m),E=t("vZ4D"),h=t.n(E),y=t("l4Ni"),f=t.n(y),v=t("ujKo"),b=t.n(v),k=t("MhPg"),q=t.n(k),I=(t("/zsF"),t("PArb")),F=(t("+BJd"),t("mr32")),M=(t("OaEy"),t("2fM7")),j=(t("y8nQ"),t("Vl3Y")),x=t("q1tI"),O=t.n(x),V=t("MuoO"),w=t("usdK"),C=t("Y2fQ"),N=t("zpYi"),L=t.n(N),T=j["a"].Item,D=M["a"].Option,S=function(e,a,t){return[{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"name",key:"name",align:"center"},{title:"ip\u5730\u5740",dataIndex:"ip",key:"ip",align:"center"},{title:"\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"type",key:"type",align:"center"},{title:"cpu\u578b\u53f7",dataIndex:"model",key:"model",align:"center"},{title:"cpu\u4f7f\u7528\u7387",dataIndex:"cpu",key:"cpu",align:"center"},{title:"cpu\u6838\u6570",dataIndex:"number",key:"number",align:"center"},{title:"\u5185\u5b58\u4f7f\u7528\u7387",dataIndex:"storage",key:"storage",align:"center"},{title:"\u78c1\u76d8\u4f7f\u7528\u7387",dataIndex:"disk",key:"disk",align:"center"},{title:"\u8f6f\u4ef6\u6570\u91cf",dataIndex:"software",key:"software",align:"center"},{title:"\u662f\u5426\u5b89\u88c5agent",dataIndex:"agent",key:"agent",align:"center"},{title:"\u72b6\u6001",key:"status",dataIndex:"status",align:"center",render:function(e,a){return O.a.createElement("span",null,parseInt(a.cpu,10)>=80||parseInt(a.storage,10)>=80||parseInt(a.disk,10)>=80?O.a.createElement(F["a"],{color:"red",key:"1"},"\u5371\u9669"):null,parseInt(a.cpu,10)>=60&&parseInt(a.cpu,10)<80||parseInt(a.cpu,10)>=60&&parseInt(a.cpu,10)<80||parseInt(a.cpu,10)>=60&&parseInt(a.cpu,10)<80?O.a.createElement(F["a"],{color:"orange"},"\u8b66\u544a"):null,parseInt(a.cpu,10)<60&&parseInt(a.storage,10)<60&&parseInt(a.disk,10)<60?O.a.createElement(F["a"],{color:"blue"},"\u6b63\u5e38"):null)}},{title:"\u67e5\u770b\u8be6\u60c5",key:"detail",align:"center",render:function(e,a){return O.a.createElement("span",null,O.a.createElement("a",{href:"javascript:;",onClick:function(){return t("/dashboard/cpu",a.key)}},"cpu"),O.a.createElement(I["a"],{type:"vertical"}),O.a.createElement("a",{href:"javascript:;",onClick:function(){return t("/dashboard/storage",a.key)}},"\u5185\u5b58"),O.a.createElement(I["a"],{type:"vertical"}),O.a.createElement("a",{href:"javascript:;",onClick:function(){return t("/dashboard/disk",a.key)}},"\u78c1\u76d8"),O.a.createElement(I["a"],{type:"vertical"}),O.a.createElement("a",{href:"javascript:;",onClick:function(){return t("/dashboard/network",a.key)}},"\u7f51\u7edc"))}},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(t,n){return O.a.createElement("span",null,O.a.createElement("a",{href:"javascript:;",onClick:function(a){return e(a,n.key)}},"\u5220\u9664"),O.a.createElement(I["a"],{type:"vertical"}),O.a.createElement("a",{href:"javascript:;",onClick:function(e){return a(e,n.key)}},"\u4fee\u6539"))}}]},B=(n=j["a"].create(),n((l=function(e){function a(){var e;return g()(this,a),e=f()(this,b()(a).call(this)),e.navigate=function(e,a){w["a"].push("".concat(e,"?id=").concat(a))},e.showModal=function(a,t){e.setState({visible:!0,modelId:t})},e.handleOk=function(){var a=e.props.form;a.validateFields({force:!0},function(a,t){a||(e.setState({visible:!1}),e.updateEquipment())})},e.handleCancel=function(a){console.log(a),e.setState({visible:!1})},e.deleteEquipment=function(a,t){var n=e.props,r=n.dispatch,l=n.form,i=l.getFieldValue("name"),c=l.getFieldValue("status");r({type:"equipment/deleteEquipment",payload:{id:t,equip_name:i,status:c}})},e.updateEquipment=function(){var a=e.state.modelId,t=e.props,n=t.dispatch,r=t.form,l=r.getFieldValue("equipmentName")||void 0,i=r.getFieldValue("modelIp")||void 0,c=r.getFieldValue("nodeType")||void 0,d=r.getFieldValue("cpuType")||void 0,s=r.getFieldValue("cpuNum")||void 0,o=r.getFieldValue("disk")||void 0,u=r.getFieldValue("storage")||void 0,p=r.getFieldValue("agent")||void 0;n(a?{type:"equipment/updateEquipment",payload:{id:a,equipmentName:l,ip:i,nodeType:c,cpuType:d,cpuNum:s,disk:o,storage:u,agent:p}}:{type:"equipment/createEquipment",payload:{equipmentName:l,ip:i,nodeType:c,cpuType:d,cpuNum:s,disk:o,storage:u,agent:p}})},e.fetchEquipmentData=function(){var a=e.props,t=a.dispatch,n=a.form,r=n.getFieldValue("name")||void 0,l=n.getFieldValue("ip")||void 0;t({type:"equipment/fetchEquipmentData",payload:{name:r,ip:l}})},e.state={visible:!1,modelId:null},e}return q()(a,e),h()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"equipment/fetchEquipmentData"})}},{key:"renderForm",value:function(){var e=this,a=this.props.form.getFieldDecorator;return O.a.createElement(j["a"],{onSubmit:this.handleSearch,layout:"inline"},O.a.createElement(s["a"],{gutter:{md:8,lg:24,xl:48}},O.a.createElement(u["a"],{md:8,sm:24},O.a.createElement(T,{label:"\u8bbe\u5907\u540d\u79f0"},a("name")(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),O.a.createElement(u["a"],{md:8,sm:24},O.a.createElement(T,{label:"\u8bbe\u5907ip\u5730\u5740"},a("ip")(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),O.a.createElement(u["a"],{md:8,sm:24},O.a.createElement("span",{className:L.a.submitButtons},O.a.createElement(o["a"],{type:"primary",htmlType:"submit",onClick:this.fetchEquipmentData},"\u67e5\u8be2"),O.a.createElement(o["a"],{icon:"plus",type:"primary",style:{marginLeft:18,marginBottom:20},onClick:function(){return e.showModal(!0)}},"\u65b0\u5efa\u8bbe\u5907")))))}},{key:"renderModal",value:function(){var e=this.props.form.getFieldDecorator;return O.a.createElement(d["a"],{title:"\u65b0\u5efa\u8bbe\u5907",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},O.a.createElement(j["a"],{onSubmit:this.handleSearch,layout:"inline"},O.a.createElement("div",{style:{display:"flex"}},O.a.createElement(T,{label:"\u670d\u52a1\u5668\u540d\u79f0"},e("equipmentName",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),O.a.createElement(T,{label:"ip\u5730\u5740"},e("modelIp",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),O.a.createElement(T,{label:"\u670d\u52a1\u5668\u7c7b\u578b"},e("nodeType",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),O.a.createElement("div",{style:{display:"flex"}},O.a.createElement(T,{label:"cpu\u578b\u53f7"},e("cpuType",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),O.a.createElement(T,{label:"cpu\u6838\u6570"},e("cpuNum",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),O.a.createElement(T,{label:"\u78c1\u76d8\u5bb9\u91cf"},e("disk",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),O.a.createElement("div",{style:{display:"flex"}},O.a.createElement(T,{label:"\u5185\u5b58"},e("storage",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(p["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),O.a.createElement(T,{label:"\u662f\u5426\u5b89\u88c5agent"},e("agent",{rules:[{required:!0,message:Object(C["formatMessage"])({id:"validation.required"})}]})(O.a.createElement(M["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:100}},O.a.createElement(D,{value:"1"},"\u662f"),O.a.createElement(D,{value:"0"},"\u5426")))))))}},{key:"render",value:function(){var e=this.props.data;return O.a.createElement(i["a"],{bordered:!1},this.renderModal(),O.a.createElement("div",{className:L.a.tableList},O.a.createElement("div",{className:L.a.tableListForm},this.renderForm())),O.a.createElement(c["a"],{columns:S(this.deleteEquipment,this.showModal,this.navigate),dataSource:e}))}}]),a}(O.a.Component),r=l))||r),Y=function(e){var a=e.equipment;return{data:a.data}};a["default"]=Object(V["connect"])(Y)(B)},zpYi:function(e,a,t){e.exports={tableList:"antd-pro-pages-_-dashboard-equipment-equipment-tableList",tableListOperator:"antd-pro-pages-_-dashboard-equipment-equipment-tableListOperator",tableListForm:"antd-pro-pages-_-dashboard-equipment-equipment-tableListForm",submitButtons:"antd-pro-pages-_-dashboard-equipment-equipment-submitButtons"}}}]);