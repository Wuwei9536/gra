(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{ZvPd:function(e,t,a){"use strict";a.r(t);a("W5HL");var n,l,r,i=a("BNmF"),c=(a("FGzY"),a("XRm4")),p=(a("jr+J"),a("nxUV")),s=(a("+JJ/"),a("Yknu")),o=(a("SW3n"),a("dkPe")),u=(a("faLb"),a("YYDY")),d=(a("7DcS"),a("+tqU")),m=a("smUt"),E=a.n(m),h=a("Pjwa"),y=a.n(h),f=a("2cji"),b=a.n(f),k=a("sp3j"),g=a.n(k),v=a("vZkh"),q=a.n(v),I=a("+KCP"),x=a.n(I),w=(a("isww"),a("dzjb")),C=(a("jmvf"),a("BsI4")),j=(a("l7s7"),a("PtyE")),F=(a("ARMK"),a("b7J2")),L=a("uqIC"),S=a.n(L),D=a("LneV"),J=a("XmJE"),M=a("zpYi"),O=a.n(M),Y=F["a"].Item,B=j["a"].Option,N=function(e,t,a){return[{title:"\u8bbe\u5907\u540d\u79f0",dataIndex:"name",key:"name",align:"center"},{title:"ip\u5730\u5740",dataIndex:"ip",key:"ip",align:"center"},{title:"\u670d\u52a1\u5668\u7c7b\u578b",dataIndex:"type",key:"type",align:"center"},{title:"cpu\u578b\u53f7",dataIndex:"model",key:"model",align:"center"},{title:"cpu\u4f7f\u7528\u7387",dataIndex:"cpu",key:"cpu",align:"center"},{title:"cpu\u6838\u6570",dataIndex:"number",key:"number",align:"center"},{title:"\u5185\u5b58\u4f7f\u7528\u7387",dataIndex:"storage",key:"storage",align:"center"},{title:"\u78c1\u76d8\u4f7f\u7528\u7387",dataIndex:"disk",key:"disk",align:"center"},{title:"\u8f6f\u4ef6\u6570\u91cf",dataIndex:"software",key:"software",align:"center"},{title:"\u662f\u5426\u5b89\u88c5agent",dataIndex:"agent",key:"agent",align:"center"},{title:"\u72b6\u6001",key:"status",dataIndex:"status",align:"center",render:function(e,t){return S.a.createElement("span",null,parseInt(t.cpu,10)>=80||parseInt(t.storage,10)>=80||parseInt(t.disk,10)>=80?S.a.createElement(C["a"],{color:"red",key:"1"},"\u5371\u9669"):null,parseInt(t.cpu,10)>=60&&parseInt(t.cpu,10)<80||parseInt(t.cpu,10)>=60&&parseInt(t.cpu,10)<80||parseInt(t.cpu,10)>=60&&parseInt(t.cpu,10)<80?S.a.createElement(C["a"],{color:"orange"},"\u8b66\u544a"):null,parseInt(t.cpu,10)<60&&parseInt(t.storage,10)<60&&parseInt(t.disk,10)<60?S.a.createElement(C["a"],{color:"blue"},"\u6b63\u5e38"):null)}},{title:"\u67e5\u770b\u8be6\u60c5",key:"detail",align:"center",render:function(e,t){return S.a.createElement("span",null,S.a.createElement("a",{href:"javascript:;",onClick:function(){return a("/dashboard/cpu",t.key)}},"cpu"),S.a.createElement(w["a"],{type:"vertical"}),S.a.createElement("a",{href:"javascript:;",onClick:function(){return a("/dashboard/storage",t.key)}},"\u5185\u5b58"),S.a.createElement(w["a"],{type:"vertical"}),S.a.createElement("a",{href:"javascript:;",onClick:function(){return a("/dashboard/disk",t.key)}},"\u78c1\u76d8"),S.a.createElement(w["a"],{type:"vertical"}),S.a.createElement("a",{href:"javascript:;",onClick:function(){return a("/dashboard/software",t.key)}},"\u8f6f\u4ef6"))}},{title:"\u64cd\u4f5c",key:"action",align:"center",render:function(a,n){return S.a.createElement("span",null,S.a.createElement("a",{href:"javascript:;",onClick:function(t){return e(t,n.key)}},"\u5220\u9664"),S.a.createElement(w["a"],{type:"vertical"}),S.a.createElement("a",{href:"javascript:;",onClick:function(e){return t(e,n.key)}},"\u4fee\u6539"))}}]},V=(n=F["a"].create(),n((r=function(e){function t(){var e;return y()(this,t),e=g()(this,q()(t).call(this)),e.navigate=function(e,t){J["a"].push("".concat(e,"?id=").concat(t))},e.showModal=function(t,a){e.setState({visible:!0,modelId:a})},e.handleOk=function(){e.setState({visible:!1}),e.updateEquipment()},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e.deleteEquipment=function(t,a){var n=e.props,l=n.dispatch,r=n.form,i=r.getFieldValue("name"),c=r.getFieldValue("status");l({type:"equipment/deleteEquipment",payload:{id:a,equip_name:i,status:c}})},e.updateEquipment=function(){var t=e.state.modelId,a=e.props,n=a.dispatch,l=a.form,r=l.getFieldsValue();n(t?{type:"equipment/updateEquipment",payload:E()({id:t},r)}:{type:"equipment/createEquipment",payload:r})},e.fetchEquipmentData=function(){var t=e.props,a=t.dispatch,n=t.form,l=n.getFieldsValue();a({type:"equipment/fetchEquipmentData",payload:l})},e.state={visible:!1,modelId:null},e}return x()(t,e),b()(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"equipment/fetchEquipmentData"})}},{key:"renderForm",value:function(){var e=this,t=this.props.form.getFieldDecorator;return S.a.createElement(F["a"],{onSubmit:this.handleSearch,layout:"inline"},S.a.createElement(s["a"],{gutter:{md:8,lg:24,xl:48}},S.a.createElement(u["a"],{md:8,sm:24},S.a.createElement(Y,{label:"\u8bbe\u5907\u540d\u79f0"},t("name")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement(u["a"],{md:8,sm:24},S.a.createElement(Y,{label:"\u8bbe\u5907ip\u5730\u5740"},t("ip")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement(u["a"],{md:8,sm:24},S.a.createElement("span",{className:O.a.submitButtons},S.a.createElement(o["a"],{type:"primary",htmlType:"submit",onClick:this.fetchEquipmentData},"\u67e5\u8be2"),S.a.createElement(o["a"],{icon:"plus",type:"primary",style:{marginLeft:18,marginBottom:20},onClick:function(){return e.showModal(!0)}},"\u65b0\u5efa\u8bbe\u5907")))))}},{key:"renderModal",value:function(){var e=this.props.form.getFieldDecorator;return S.a.createElement(p["a"],{title:"\u65b0\u5efa\u8bbe\u5907",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},S.a.createElement(F["a"],{onSubmit:this.handleSearch,layout:"inline"},S.a.createElement("div",{style:{display:"flex"}},S.a.createElement(Y,{label:"\u670d\u52a1\u5668\u540d\u79f0"},e("equipmentName")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),S.a.createElement(Y,{label:"ip\u5730\u5740"},e("ip")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),S.a.createElement(Y,{label:"\u670d\u52a1\u5668\u7c7b\u578b"},e("nodeType")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement("div",{style:{display:"flex"}},S.a.createElement(Y,{label:"cpu\u578b\u53f7"},e("cpuType")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),S.a.createElement(Y,{label:"cpu\u6838\u6570"},e("cpuNum")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),S.a.createElement(Y,{label:"\u78c1\u76d8\u5bb9\u91cf"},e("disk")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"})))),S.a.createElement("div",{style:{display:"flex"}},S.a.createElement(Y,{label:"\u5185\u5b58"},e("storage")(S.a.createElement(d["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),S.a.createElement(Y,{label:"\u662f\u5426\u5b89\u88c5agent"},e("agent")(S.a.createElement(j["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:100}},S.a.createElement(B,{value:"1"},"\u662f"),S.a.createElement(B,{value:"0"},"\u5426")))))))}},{key:"render",value:function(){var e=this.props.data;return S.a.createElement(i["a"],{bordered:!1},this.renderModal(),S.a.createElement("div",{className:O.a.tableList},S.a.createElement("div",{className:O.a.tableListForm},this.renderForm())),S.a.createElement(c["a"],{columns:N(this.deleteEquipment,this.showModal,this.navigate),dataSource:e}))}}]),t}(S.a.Component),l=r))||l),P=function(e){var t=e.equipment;return{data:t.data}};t["default"]=Object(D["connect"])(P)(V)},zpYi:function(e,t,a){e.exports={tableList:"antd-pro-pages-_-dashboard-equipment-equipment-tableList",tableListOperator:"antd-pro-pages-_-dashboard-equipment-equipment-tableListOperator",tableListForm:"antd-pro-pages-_-dashboard-equipment-equipment-tableListForm",submitButtons:"antd-pro-pages-_-dashboard-equipment-equipment-submitButtons"}}}]);